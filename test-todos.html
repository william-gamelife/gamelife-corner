<!DOCTYPE html>
<html>
<head>
    <title>Todos 測試</title>
</head>
<body>
    <div id="moduleContainer">載入中...</div>
    
    <script type="module">
        try {
            console.log('開始載入 todos 模組...');
            
            const todosModule = await import('./modules/todos.js');
            console.log('todos 模組載入成功:', todosModule);
            
            const TodosModule = todosModule.TodosModule;
            console.log('TodosModule 類別:', TodosModule);
            
            if (TodosModule) {
                const instance = new TodosModule();
                console.log('todos 實例建立成功:', instance);
                
                // 測試 render 方法
                const testUUID = '550e8400-e29b-41d4-a716-446655440001';
                await instance.render(testUUID);
                console.log('todos 渲染完成');
            }
            
        } catch (error) {
            console.error('載入 todos 模組失敗:', error);
            document.getElementById('moduleContainer').innerHTML = `
                <div style="color: red; padding: 20px;">
                    <h3>載入失敗</h3>
                    <p>錯誤訊息: ${error.message}</p>
                    <pre>${error.stack}</pre>
                </div>
            `;
        }
    </script>
</body>
</html>